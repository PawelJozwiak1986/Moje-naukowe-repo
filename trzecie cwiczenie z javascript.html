<style>
#road {
    padding: 20px;
    background: gray;
  }

  #car {
    width: 180px;
    height: 150px;
    background: white;
  }
  #road2 {
    padding: 20px;
    background: gray;
    margin-top: 160px;
  }

  #car2 {
    width: 180px;
    height: 150px;
    background: white;
  }
</style>

<div id="road">
  <div id="car"></div>
  <div id="car2"></div>
</div>

<script>
    // Finding car element
  var car = document.querySelector('#car');
  var car2 = document.querySelector('#car2');
  // Initial state
  var position = 0;
  var velocity = 0;
  var acceleration = 0;
  var isGasPressed = false;
  var isNitroOn = false;
  var isBreakOn = false;
  var dTime = 16;
  // Listening for user input
  window.addEventListener('keydown', function (event) {

   if (event.code === 'Space') {
     isGasPressed = true;
   }
   if (event.code === 'KeyN') {
     isNitroOn = true;
   }
   if (event.code === 'KeyC') {
     isBreakOn = true;
   }
   if (event.code === 'KeyZ') {
     car.style.color = "blue";;
   }
 })
 window.addEventListener('keyup', function () {
   if (event.code === 'Space') {
    isGasPressed = false;
     }
   if (event.code === 'KeyN') {
     isNitroOn = false;
   }
   if (event.code === 'KeyC') {
     isBreakOn = false
   }
 })
  
  // Updating situation on screen
  setInterval(function () {
    // Make calculations
   if (isGasPressed) {
     acceleration = isNitroOn ? 0.0050 : 0.0001;
   } else {
     acceleration = isBreakOn ? -0.00049 : -0.00001;
   }
   velocity = Math.min(
     Math.max(
        velocity + acceleration * dTime,
        0
      ),
      isNitroOn ? 1.96 : 0.36
    );
    console.log(velocity.toFixed(2));
    position = position + velocity * dTime;

   //Render new car position

    car.style.marginLeft = position + 'px';
    car2.style.marginLeft = position + 'px'; 
  }, dTime)

  //////////////car 2/////////////////////


  var position = 0;
  var velocity = 0;
  var acceleration = 0;
  var isGasPressed = false;
  var isNitroOn = false;
  var isBreakOn = false;
  var dTime = 16;
  // Listening for user input
  window.addEventListener('keydown', function (event) {

   if (event.code === 'Space') {
     isGasPressed = true;
   }
   if (event.code === 'KeyN') {
     isNitroOn = true;
   }
   if (event.code === 'KeyC') {
     isBreakOn = true;
   }
 })
 window.addEventListener('keyup', function () {
   if (event.code === 'Space') {
    isGasPressed = false;
     }
   if (event.code === 'KeyN') {
     isNitroOn = false;
   }
   if (event.code === 'KeyC') {
     isBreakOn = false
   }
 })
  
  // Updating situation on screen
  setInterval(function () {
    // Make calculations
   if (isGasPressed) {
     acceleration = isNitroOn ? 0.0050 : 0.00002;
   } else {
     acceleration = isBreakOn ? -0.00049 : -0.00001;
   }
   velocity = Math.min(
     Math.max(
        velocity + acceleration * dTime,
        0
      ),
      isNitroOn ? 1.96 : 0.30
    );
    console.log(velocity.toFixed(2));
    position = position + velocity * dTime;

   //Render new car position

    
    car2.style.marginLeft = position + 'px'; 
  }, dTime)
</script>